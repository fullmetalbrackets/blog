---
import BaseLayout from '@layouts/BaseLayout.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '@config';

const posts = (await Astro.glob('./blog/*.{md,mdx}')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
const notes = (await Astro.glob('./notes/*.md')).sort(
	(a, b) => new Date(b.frontmatter.pubDate).valueOf() - new Date(a.frontmatter.pubDate).valueOf()
);
---

<style scoped>
	p {
		word-spacing: 1px;
	}
	ul {
		width: 100%
	}
	li {
		display: inline-flex;
		flex-direction: column;
		margin: 0 1em 2em -1em;
		line-height: 1.2;
	}
	.more {
		display: grid;
		grid-template-columns: 1fr 1fr;
		line-height: 1.5;
		margin-bottom: 0;
	}
	.posts-title, .notes-title {
		display: inline-flex;
		flex-direction: row;
		margin-top: 0.25em;
	}

	@media screen and (min-width: 200px) and (max-width: 650px) {
		main {
			margin: 0 10px;
		}
</style>

<BaseLayout title={SITE_TITLE} description={SITE_DESCRIPTION}>
	<link rel="preload" href="/fonts/Streamster.woff2" as="font" crossorigin/>
	<link rel="preload" href="/fonts/MPLUSRounded1c-Medium.ttf" as="font" crossorigin/>
	<link rel="preload" href="/fonts/Wotfard.woff2" as="font" crossorigin/>
	<section>
		<h1>Hello, World!</h1>
    <hr>
		<p>A website to collect mostly tech-related documentation written by me, <em>Ariel Diaz</em>. Most things I've learned and put to use get written down step-by-step for future reference. Maybe some of it will be helpful to you. If not, that's ok, it's still helpful for me. Either way, thanks for visiting!</p>
		<h4>See more</h4>
		<ul class="more">
			<li class="more">
				<a href="/about">About</a>
				<a href="/uses">Uses</a>
				<a href="/links">Links</a>
				<a href="/about#contact">Contact</a>
			</li>
		</ul>
		<h2>Recent Posts</h2>
		{posts.slice(0, 5).map((post) => (
			<ul>
				<li class="posts-li">
					<div class="posts-dates">
						<time datetime={post.frontmatter.pubDate}>
							{new Date(post.frontmatter.pubDate).toLocaleDateString('en-us', {
								year: 'numeric',
								month: 'numeric',
								day: 'numeric',
							})}
						</time>
					</div>
					<div class="posts-title">
						<a href={post.url} rel="prefetch">
							<span>{post.frontmatter.title}</span>
						</a>
					</div>
				</li>
			</ul>
		))}
		<h2>Recent Notes</h2>
				{notes.slice(0, 5).map((note) => (
					<ul>
						<li class="notes-li">
							<div class="notes-dates">
								<time datetime={note.frontmatter.pubDate}>
									{new Date(note.frontmatter.pubDate).toLocaleDateString('en-us', {
										year: 'numeric',
										month: 'numeric',
										day: 'numeric',
									})}
								</time>
							</div>
							<div class="notes-title">
								<a href={note.url} rel="prefetch">
									<span>{note.frontmatter.title}</span>
								</a>
							</div>
						</li>
					</ul>
			))}
		<hr>
		<aside>
			<a href="#top" class="top button blog-tag">Back to Top &uarr;</a>
		</aside>
		</section>
</BaseLayout>